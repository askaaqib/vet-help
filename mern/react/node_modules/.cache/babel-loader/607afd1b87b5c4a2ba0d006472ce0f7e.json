{"ast":null,"code":"import _classCallCheck from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shah/Public/projects/keltjw/mern/react/src/components/requestHelp.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Skylink } from 'skylinkjs';\n\nvar RequestHelp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RequestHelp, _Component);\n\n  function RequestHelp(props) {\n    var _this;\n\n    _classCallCheck(this, RequestHelp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestHelp).call(this, props));\n    _this.state = {}; // Here's a simple example on how you can start using Skylink.\n\n    var skylinkDemo = new Skylink(); // Subscribe all events first as a general guideline\n\n    skylinkDemo.on(\"incomingStream\", function (peerId, stream, peerInfo, isSelf) {\n      if (isSelf) {\n        attachMediaStream(document.getElementById(\"selfVideo\"), stream);\n      } else {\n        var peerVideo = document.createElement(\"video\");\n        peerVideo.id = peerId;\n        peerVideo.autoplay = \"autoplay\";\n        document.getElementById(\"peersVideo\").appendChild(peerVideo);\n        attachMediaStream(peerVideo, stream);\n      }\n    });\n    skylinkDemo.on(\"peerLeft\", function (peerId, peerInfo, isSelf) {\n      if (!isSelf) {\n        var peerVideo = document.getElementById(peerId); // do a check if peerVideo exists first\n\n        if (peerVideo) {\n          document.getElementById(\"peersVideo\").removeChild(peerVideo);\n        } else {\n          console.error(\"Peer video for \" + peerId + \" is not found.\");\n        }\n      }\n    }); // init() should always be called first before other methods other than event methods like on() or off().\n\n    skylinkDemo.init(\"00228257-e1ea-4b22-baf9-c328a4bade0b\", function (error, success) {\n      if (success) {\n        skylinkDemo.joinRoom(\"my_room\", {\n          userData: \"My Username\",\n          audio: true,\n          video: true\n        });\n      }\n    });\n    return _this;\n  }\n\n  _createClass(RequestHelp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.auth.isAuthenticated) {\n        this.props.history.push('/login');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        id: \"myvideo\",\n        style: \"transform: rotateY(-180deg);\",\n        autoplay: true,\n        muted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return RequestHelp;\n}(Component);\n\nRequestHelp.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(RequestHelp);","map":{"version":3,"sources":["/home/shah/Public/projects/keltjw/mern/react/src/components/requestHelp.js"],"names":["React","Component","Link","PropTypes","connect","Skylink","RequestHelp","props","state","skylinkDemo","on","peerId","stream","peerInfo","isSelf","attachMediaStream","document","getElementById","peerVideo","createElement","id","autoplay","appendChild","removeChild","console","error","init","success","joinRoom","userData","audio","video","auth","isAuthenticated","history","push","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Skylink } from 'skylinkjs';\n\nclass RequestHelp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {  }\n\n         // Here's a simple example on how you can start using Skylink.\n  var skylinkDemo = new Skylink();\n  // Subscribe all events first as a general guideline\n  skylinkDemo.on(\"incomingStream\", function (peerId, stream, peerInfo, isSelf) {\n    if (isSelf) {\n      attachMediaStream(document.getElementById(\"selfVideo\"), stream);\n    } else {\n      var peerVideo = document.createElement(\"video\");\n      peerVideo.id = peerId;\n      peerVideo.autoplay = \"autoplay\";\n      document.getElementById(\"peersVideo\").appendChild(peerVideo);\n      attachMediaStream(peerVideo, stream);\n    }\n  });\n  skylinkDemo.on(\"peerLeft\", function (peerId, peerInfo, isSelf) {\n    if (!isSelf) {\n      var peerVideo = document.getElementById(peerId);\n      // do a check if peerVideo exists first\n      if (peerVideo) {\n        document.getElementById(\"peersVideo\").removeChild(peerVideo);\n      } else {\n        console.error(\"Peer video for \" + peerId + \" is not found.\");\n      }\n    }\n  });\n // init() should always be called first before other methods other than event methods like on() or off().\n skylinkDemo.init(\"00228257-e1ea-4b22-baf9-c328a4bade0b\", function (error, success) {\n   if (success) {\n     skylinkDemo.joinRoom(\"my_room\", {\n       userData: \"My Username\",\n       audio: true,\n       video: true\n     });\n   }\n });\n    }\n\n    componentDidMount() {\n        if(!this.props.auth.isAuthenticated) {\n            this.props.history.push('/login');\n        }\n    }\n\n\n    render() { \n        return ( \n            <div>\n                <video id=\"myvideo\" style=\"transform: rotateY(-180deg);\" autoplay muted></video>\n            </div>\n\n         );\n    }\n}\n\n\n \nRequestHelp.propTypes = {\n    auth: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n})\n\nexport  default connect(mapStateToProps)(RequestHelp)"]},"metadata":{},"sourceType":"module"}