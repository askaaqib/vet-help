{"ast":null,"code":"import _classCallCheck from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/shah/Public/projects/keltjw/mern/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/shah/Public/projects/keltjw/mern/react/src/components/requestHelp.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport MediaHandler from './MediaHandler';\n\nvar RequestHelp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(RequestHelp, _Component);\n\n  function RequestHelp(props) {\n    var _this;\n\n    _classCallCheck(this, RequestHelp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RequestHelp).call(this, props));\n    _this.state = {\n      hasMedia: false,\n      otherUserid: null\n    };\n    return _this;\n  }\n\n  _createClass(RequestHelp, [{\n    key: \"comoponentWillMount\",\n    value: function comoponentWillMount() {\n      var _this2 = this;\n\n      this.MediaHandler.getPermissions().then(function (stream) {\n        _this2.setState({\n          hasMedia: true\n        });\n\n        try {\n          _this2.myvideo.srcObject = stream;\n        } catch (e) {\n          _this2.myVideo.src = URL.createObjectURL(stream);\n        }\n\n        _this2.myVideo.play();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this.props.auth.isAuthenticated) {\n        this.props.history.push('/login');\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        className: \"main-dasboard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container mt-5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card dash-main-card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        className: \"my-video\",\n        ref: function ref(_ref) {\n          _this3.myVideo = _ref;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"video\", {\n        className: \"user-video\",\n        ref: function ref(_ref2) {\n          _this3.userVideo = _ref2;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return RequestHelp;\n}(Component);\n\nRequestHelp.propTypes = {\n  auth: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n};\n\nexport default connect(mapStateToProps)(RequestHelp);","map":{"version":3,"sources":["/home/shah/Public/projects/keltjw/mern/react/src/components/requestHelp.js"],"names":["React","Component","Link","PropTypes","connect","MediaHandler","RequestHelp","props","state","hasMedia","otherUserid","getPermissions","then","stream","setState","myvideo","srcObject","e","myVideo","src","URL","createObjectURL","play","auth","isAuthenticated","history","push","ref","userVideo","propTypes","object","isRequired","mapStateToProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;IAEMC,W;;;;;AACF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAE,KADD;AAETC,MAAAA,WAAW,EAAE;AAFJ,KAAb;AAFe;AAOlB;;;;0CAEqB;AAAA;;AAClB,WAAKL,YAAL,CAAkBM,cAAlB,GACKC,IADL,CACU,UAACC,MAAD,EAAY;AACd,QAAA,MAAI,CAACC,QAAL,CAAc;AAACL,UAAAA,QAAQ,EAAC;AAAV,SAAd;;AACA,YAAI;AACA,UAAA,MAAI,CAACM,OAAL,CAAaC,SAAb,GAAyBH,MAAzB;AACH,SAFD,CAEC,OAAMI,CAAN,EAAQ;AACL,UAAA,MAAI,CAACC,OAAL,CAAaC,GAAb,GAAmBC,GAAG,CAACC,eAAJ,CAAoBR,MAApB,CAAnB;AACH;;AAED,QAAA,MAAI,CAACK,OAAL,CAAaI,IAAb;AACH,OAVL;AAWH;;;wCAEmB;AAChB,UAAG,CAAC,KAAKf,KAAL,CAAWgB,IAAX,CAAgBC,eAApB,EAAqC;AACjC,aAAKjB,KAAL,CAAWkB,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH;AACJ;;;6BAGQ;AAAA;;AAEL,aACI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,SAAS,EAAC,UAAjB;AAA4B,QAAA,GAAG,EAAE,aAACC,IAAD,EAAS;AAAC,UAAA,MAAI,CAACT,OAAL,GAAeS,IAAf;AAAmB,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,GAAG,EAAE,aAACA,KAAD,EAAS;AAAC,UAAA,MAAI,CAACC,SAAL,GAAiBD,KAAjB;AAAqB,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADF,CADF,CADJ;AAUH;;;;EA3CqB1B,S;;AAgD1BK,WAAW,CAACuB,SAAZ,GAAwB;AACpBN,EAAAA,IAAI,EAAEpB,SAAS,CAAC2B,MAAV,CAAiBC;AADH,CAAxB;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACxB,KAAD;AAAA,SAAY;AAChCe,IAAAA,IAAI,EAAEf,KAAK,CAACe;AADoB,GAAZ;AAAA,CAAxB;;AAIA,eAAgBnB,OAAO,CAAC4B,eAAD,CAAP,CAAyB1B,WAAzB,CAAhB","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport MediaHandler from './MediaHandler';\n\nclass RequestHelp extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            hasMedia: false,\n            otherUserid: null\n          }\n  \n    }\n\n    comoponentWillMount() {\n        this.MediaHandler.getPermissions()\n            .then((stream) => {\n                this.setState({hasMedia:true});\n                try {\n                    this.myvideo.srcObject = stream;\n                }catch(e){\n                    this.myVideo.src = URL.createObjectURL(stream);\n                }\n\n                this.myVideo.play();\n            })\n    }\n\n    componentDidMount() {\n        if(!this.props.auth.isAuthenticated) {\n            this.props.history.push('/login');\n        }\n    }\n\n\n    render() { \n        \n        return ( \n            <div className=\"main-dasboard\">\n              <div className=\"container mt-5\">\n                <div className=\"card dash-main-card\">\n                    <video className=\"my-video\" ref={(ref) => {this.myVideo = ref}}></video>              \n                    <video className=\"user-video\" ref={(ref) => {this.userVideo = ref}}></video>              \n                </div>\n              </div>\n            </div>\n         );\n    }\n}\n\n\n \nRequestHelp.propTypes = {\n    auth: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n    auth: state.auth,\n})\n\nexport  default connect(mapStateToProps)(RequestHelp)"]},"metadata":{},"sourceType":"module"}